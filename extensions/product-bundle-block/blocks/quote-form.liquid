<div class="quote-form-container" style="background-color: {{ block.settings.background_color }}; margin: {{ block.settings.button_margin }}">
  <button class="quote-toggle-btn" style="background: {{ block.settings.button_background_color }}" onclick="document.querySelector('.quote-form-wrapper').classList.toggle('open')">Request a Quote</button>

  <div class="quote-form-wrapper">
    <form class="quote-form" id="quote-form" novalidate>
      <h3>Quote me <em>SUPER FAST!!</em></h3>

      <label>Full Name *</label>
      <input type="text" name="full_name" required>

      <label>Company *</label>
      <input type="text" name="company" required>

      <label>Delivery Location *</label>
      <input type="text" name="location" required>

      <label>Enter Your Requirements *</label>
      <textarea name="message" required></textarea>

      <label>Quantity *</label>
      <input type="number" name="quantity" value="10" required>

      <label>Email *</label>
      <input type="email" name="email" required>

      <label>Phone Number *</label>
      <input type="tel" name="phone" required>

      <!-- ðŸ”¹ Hidden product details -->
      <input type="hidden" name="product_title" value="{{ product.title }}">
      <input type="hidden" name="product_image" value="{{ product.featured_image | img_url: 'large' }}">
      <input type="hidden" name="unit_price" value="{{ product.selected_or_first_available_variant.price | money_without_currency }}">
      {%- assign current_variant = product.selected_or_first_available_variant -%}
      <input type="hidden" name="item_code" value="{{ current_variant.sku }}">

      <!-- Debug output, remove later 
      <p>DEBUG TITLE: {{ product.title }}</p>
      <p>DEBUG IMAGE: {{ product.featured_image | img_url: '100x100' }}</p>
      <p>DEBUG PRICE: {{ product.selected_or_first_available_variant.price | money }}</p>
      <p>DEBUG TITLE: {{ current_variant.sku }}</p>
      -->
      <button type="submit" class="submit-btn">Submit Quote</button>
    </form>
  </div>
</div>

<link rel="stylesheet" href="{{ 'quote-form.css' | asset_url }}" />
<script src="{{ 'quote-form.js' | asset_url }}" defer></script>

{% schema %}
{
  "name": "Quote Form Block",
  "target": "section",
  "templates": ["product"],
  "settings": [
    {
      "type": "color",
      "id": "button_background_color",
      "label": "Button Background Color",
      "default": "#000000"
    },
    {
      "type":"text",
      "id":"button_margin",
      "label":"Button Margin",
      "default":"0px 0px 10px 0px"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background Color",
      "default": "#ff6600"
    }
  ]
}
{% endschema %}

